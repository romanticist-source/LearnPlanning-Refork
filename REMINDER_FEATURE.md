# イベントリマインダー機能

## 概要
スケジュールに登録されたイベントの日になると、自動でプッシュ通知を送信するリマインダー機能を実装しました。

## 機能詳細

### 1. 自動リマインダー設定
- イベント作成時に `hasReminder: true` を設定すると、自動的にリマインダーが設定されます
- リマインダーは イベント当日の朝9:00 に送信されるようにスケジュールされます

### 2. リマインダー通知
- 通知タイトル: "イベントのリマインダー"
- 通知内容: "本日のイベント: [イベント名] ([開始時刻]開始) - [グループ名]"
- 通知をクリックするとダッシュボードに移動します

### 3. 重複防止
- 同じイベントのリマインダーは1回のみ送信されます
- 送信済みのリマインダーは `event_reminders` テーブルに記録されます

## API エンドポイント

### リマインダーチェック
```
POST /api/reminders/check
```
- 今日のイベントをチェックして、リマインダーを送信します
- 1時間ごとに自動実行されます（schedule-viewコンポーネント内）

### 手動リマインダートリガー
```
POST /api/reminders/trigger
```
- 認証が必要です
- 手動でリマインダーチェックを実行します

## 使用方法

### 1. 通知の有効化
ホームページで「通知を有効にする」ボタンをクリックして、プッシュ通知を許可してください。

### 2. イベント作成
イベント作成時に「リマインダーを設定」をオンにしてください。

### 3. リマインダーの確認
- 自動: 1時間ごとに自動チェックされます
- 手動: スケジュール画面の「リマインダー確認」ボタンをクリック

## データベーステーブル

### event_reminders
```json
{
  "id": "reminder-xxx",
  "eventId": "event-xxx",
  "userId": "user-xxx",
  "reminderType": "day_of",
  "sentAt": "2025-06-26T09:00:00Z",
  "isSent": true,
  "scheduledFor": "2025-06-26T09:00:00Z",
  "createdAt": "2025-06-26T00:00:00Z"
}
```

## 注意事項
- リマインダーは通知許可が必要です
- サーバーが稼働している間のみ自動チェックが機能します
- 本番環境では、より確実なスケジューリング（cron job等）の実装を推奨します

## テスト方法
1. 今日の日付のイベントを作成（hasReminder: true）
2. スケジュール画面で「リマインダー確認」ボタンをクリック
3. 通知が送信されることを確認
